<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Implementation &mdash; PangyPlot 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="_static/pangyplot.css" />

  
    <link rel="shortcut icon" href="_static/favicon.svg"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Setup For Custom Pangenome" href="setup.html" />
    <link rel="prev" title="Usage" href="usage.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            PangyPlot
              <img src="_static/pangyplot_logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Implementation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#back-end-bubblegun">Back-end: BubbleGun</a></li>
<li class="toctree-l2"><a class="reference internal" href="#back-end-neo4j">Back-end: Neo4j</a></li>
<li class="toctree-l2"><a class="reference internal" href="#front-end-d3-force-graph">Front-end: D3 Force Graph</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup For Custom Pangenome</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PangyPlot</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Implementation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/implementation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <span class="target" id="implementation"></span><section id="id1">
<h1>Implementation<a class="headerlink" href="#id1" title="Permalink to this heading">ÔÉÅ</a></h1>
<section id="back-end-bubblegun">
<h2>Back-end: BubbleGun<a class="headerlink" href="#back-end-bubblegun" title="Permalink to this heading">ÔÉÅ</a></h2>
<p><a class="reference external" href="https://github.com/fawaz-dabbaghieh/bubble_gun">BubbleGun üîó</a> is a tool that identifies topological structures in a GFA file.</p>
<p><code class="docutils literal notranslate"><span class="pre">Superbubble</span></code> - a acyclic, directed subgraph where nodes <em>s</em> and <em>t</em> are the source and sink nodes, respectively.
All paths that start at <em>s</em> end up at <em>t</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">Bubble</span></code> - a specific type of superbubble where <em>s</em> only has two outgoing edges and <em>t</em> has two incoming edges.
Ex. a simple bialleleic SNP or indel.</p>
<p><code class="docutils literal notranslate"><span class="pre">BubbleChain</span></code> - a subgraph containing one or more bubbles such that the sink node of one bubble is the soruce node of the next.</p>
<p>A BubbleChain contains Bubbles. A BubbleChain can also be a part of a larger SuperBubble, which in turn can be inside an even larger SuperBubble or BubbleChain.
This nested structure is computed by BubbleGun.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/graph_analogy2.svg"><img alt="How the graph is drawn" src="_images/graph_analogy2.svg" width="500px" /></a>
</figure>
</section>
<section id="back-end-neo4j">
<h2>Back-end: Neo4j<a class="headerlink" href="#back-end-neo4j" title="Permalink to this heading">ÔÉÅ</a></h2>
<p><a class="reference external" href="neo4jurl">Neo4j üîó</a> is a graph database where data is stored as a series of Nodes and Relationships.
Neo4j mirrors the stucture of the graph genomes which makes it ideal for storage and queries.</p>
<p>During setup of PangyPlot, an rGFA file is parsed and the S,L,P,W lines are extracted.
The S (segment) lines are added to the Neo4j database as nodes with properties that include
-length
-chrom
-start
-end
-x,y coordinates</p>
<p>The L (link) lines are added as <code class="docutils literal notranslate"><span class="pre">LINKS_TO</span></code> relationships between two Segment nodes.</p>
<p>test</p>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/neo4j_placeholder.png"><img alt="Neo4j database schema" src="_images/neo4j_placeholder.png" style="width: 500px;" /></a>
</figure>
</section>
<section id="front-end-d3-force-graph">
<h2>Front-end: D3 Force Graph<a class="headerlink" href="#front-end-d3-force-graph" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>PangyPlot uses the <a class="reference external" href="https://github.com/vasturiano/force-graph">D3 Force Graph library üîó</a> to draw the graph representation.</p>
<p>This library is able to render the graph given a set of nodes and links.
In PangyPlot, segments of sequence are represented by nodes.
These segments can have variable length and it was important to capture the length information in the rendering of the graph.
PangyPlot splits up longer segments into a series of connected D3 nodes, using thickly drawn links to give the illusion of length.</p>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="_images/graph_explain.svg"><img alt="How the graph is drawn" src="_images/graph_explain.svg" width="500px" /></a>
<figcaption>
<p><span class="caption-text">How the stylized segments appear (top) versus how they structured from the perspective of the D3 engine (bottom).</span><a class="headerlink" href="#id2" title="Permalink to this image">ÔÉÅ</a></p>
</figcaption>
</figure>
<p>For example, Segments 426 and 427 above represent a SNP, and are drawn with a single D3 node.
In contrast, Segment 428 is 932 base pairs long and is drawn with 9 nodes, internally named 428#0 through 428#8.</p>
<p>#todo forces</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="usage.html" class="btn btn-neutral float-left" title="Usage" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="setup.html" class="btn btn-neutral float-right" title="Setup For Custom Pangenome" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Scott Mastromatteo.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>